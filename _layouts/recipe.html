<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ page.title }} - {{ site.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
</head>
<body>
  <header class="site-header">
    <div class="wrap">
      <h1 class="site-title"><a href="{{ '/' | relative_url }}" style="color:var(--text-color-1);">{{ site.title | default: "My Cookbook" }}</a></h1>
    </div>
  </header>

  <main class="wrap recipe">
    <article class="recipe-article">
      <h2 class="recipe-title">{{ page.title }}</h2>

      <div class="meta">
        {% if page.prep_time %}<span>Prep: {{ page.prep_time }}</span>{% endif %}
        {% if page.cook_time %}<span>Time: {{ page.cook_time }}</span>{% endif %}
        {% if page.total_time %}<span>Total: {{ page.total_time }}</span>{% endif %}
        {% if page.servings %}<span>Serves: {{ page.servings }}</span>{% endif %}
      </div>

      {% if page.photos %}
      <div class="photo-gallery">
        {% for photo in page.photos %}
          <figure class="photo">
            <img src="{{ photo.src | relative_url }}" alt="{{ photo.alt | default: page.title }}">
            {% if photo.caption %}<figcaption>{{ photo.caption }}</figcaption>{% endif %}
          </figure>
        {% endfor %}
      </div>
      {% endif %}

      {% if page.description %}
      <p class="description">{{ page.description }}</p>
      {% endif %}

      <section class="ingredients">
        <h3>Ingredients</h3>
        <ul>
          {% for item in page.ingredients %}
            <li>{{ item }}</li>
          {% endfor %}
        </ul>
      </section>
      
      <section class="preparations">
        <h3>Preparations</h3>
        <ul>
          {% for step in page.preparations %}
            <li>{{ step }}</li>
          {% endfor %}
        </ul>
      </section>

      <section class="directions">
        <h3>Directions</h3>
        <ol>
          {% for step in page.directions %}
            <li>{{ step }}</li>
          {% endfor %}
        </ol>
      </section>

      {% if page.tags %}
      <section class="tags">
        <h4>Tags</h4>
        <p>
          {% for tag in page.tags %}
            <a class="tag" href="{{ '/tags/' | append: tag | relative_url }}">{{ tag }}</a>{% unless forloop.last %}, {% endunless %}
          {% endfor %}
        </p>
      </section>
      {% endif %}
      
      {% if page.source_url %}
      <p class="description">Inspired by <a href="{{ page.source_url }}" target="_blank">{{ page.source_name }}</a></p>
      {% endif %}

      <footer class="recipe-footer">
        <p><small>Published: {{ page.date | date: "%Y-%m-%d" }}</small></p>
      </footer>
    </article>
  </main>

  <footer class="site-footer">
    <div class="wrap">
      <p>&copy; {{ site.time | date: "%Y" }} {{ site.title | default: "My Cookbook" }}</p>
    </div>
  </footer>
</body>
</html>
